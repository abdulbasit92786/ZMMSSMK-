<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ðŸ“¦ NFT Plans</title>  <!-- Firebase SDKs -->  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js"></script>  <style>
    /* styles same as before, will be enhanced after logic */
  </style></head>
<body>
  <!-- UI code same structure, enhanced logic below -->  <script>
    const PLAN_REWARDS = {
      usdt: {
        10: { video: 2, interval: 2 },
        25: { video: 4, interval: 4 },
        50: { video: 8, interval: 8 },
        100: { video: 12, interval: 10 },
        500: { video: 24, interval: 20, lifetime: true }
      },
      zmm: {
        1000: { video: 2, interval: 2 },
        2500: { video: 4, interval: 4 },
        5000: { video: 8, interval: 8 },
        10000: { video: 12, interval: 10 },
        50000: { video: 24, interval: 20, lifetime: true }
      }
    };

    function canBuyNewPlan(current, newPlanAmount, type) {
      if (!current) return true;
      const isLifetime = PLAN_REWARDS[type][current.amount]?.lifetime;
      const newLifetime = PLAN_REWARDS[type][newPlanAmount]?.lifetime;
      if (isLifetime) return false; // lifetime can't be replaced
      if (newLifetime) return false; // lifetime only if no plan
      return false; // must cancel first
    }

    function buyPlan(type, amount) {
      const current = activePlans[type];
      if (!canBuyNewPlan(current, amount, type)) {
        alert("Cancel current plan before activating a new one.");
        return;
      }
      // rest of buy code
    }

    function cancelPlan(type) {
      const plan = activePlans[type];
      if (!plan) return;
      const isLifetime = PLAN_REWARDS[type][plan.amount]?.lifetime;
      if (isLifetime) {
        alert("Lifetime plan cannot be cancelled. Only by deleting account.");
        return;
      }
      // continue cancel
    }

    // insert logic for video/interval token granting based on rewards

  </script></body>
</html>
